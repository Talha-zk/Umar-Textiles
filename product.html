<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Umar Textiles</title>
        <link rel="icon" type="image/png" href="assets/img/favicon_tiny.ico" />
        <link rel="stylesheet" href="assets/css/work.css" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
    
    <!-- Include Swiper CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
<style>
    .color-indicators {
        display: flex;
        align-items: center;
        gap: 4px;
        margin-left: 8px;
    }
    
    .color-indicators .color-indicator {
        transition: transform 0.2s ease;
    }
    
    .color-indicators .color-indicator:hover {
        transform: scale(1.3);
    }
</style>
    </head>
  <body>
<div data-include="header"></div>
<section class="hero-cnt">


  <div class="container position-relative">
  </div>

  <!-- Centered Content -->
  <div class="hero-content-cnt pt-5 mt-5">
    <h1 class="text-uppercase mb-0 fw-bolder pt-5 mt-5 hero-heading">crafting perfection <br>in everyÂ seam</h1>

  </div>

</section>

 

<section class="py-4">
    <div class="container">

        <!-- Filter & Sort Row -->
        <div class="row mb-4">
            <div class="col-md-6">
                <select class="form-select w-auto" id="categoryFilter">
                    <option value="all" selected>All</option>
                    <!-- Categories will be populated dynamically -->
                </select>
            </div>
            <!-- <div class="col-md-6 text-md-end mt-3 mt-md-0">
                <select class="form-select w-auto d-inline-block">
                    <option selected>Product Name</option>
                    <option>Price</option>
                </select>
            </div> -->
        </div>

        <!-- Product Grid -->
        <div class="row" id="productsContainer">
            <!-- Products will be loaded dynamically from JSON -->
            <div class="text-center py-5">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="mt-3">Loading products...</p>
            </div>
        </div>

    </div>
</section>

 <div data-include="trusted"></div>

 <div data-include="quality"></div>  



 <div data-include="certificate"></div>


  <div data-include="footer"></div>


<script src="https://cdn.jsdelivr.net/npm/typeit@8.0.7/dist/typeit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.min.js"></script>




    <!-- Include Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- Include Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script>
  var swiper = new Swiper(".mySwiper", {
    slidesPerView: 4,
    spaceBetween: 10,
    navigation: {
      nextEl: ".custom-next",
      prevEl: ".custom-prev",
    },
    breakpoints: {
      0: { slidesPerView: 1 },
      576: { slidesPerView: 2 },
      768: { slidesPerView: 3 },
      992: { slidesPerView: 4 }
    }
  });
</script>

 <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
      <script src="assets/js/scripts.js"></script>
      <script>
        let allProducts = [];
        
        document.addEventListener('DOMContentLoaded', function() {
          loadProducts();
        });
        
        // Load products from JSON file
        async function loadProducts() {
          try {
            const response = await fetch('api/products.php');
            const data = await response.json();
            
            allProducts = data.products || [];
            window.categoryData = data; // Store category data globally
            
            displayProducts(allProducts);
            populateCategoryFilter();
            setupFilter();
            
          } catch (error) {
            console.error('Error loading products:', error);
            document.getElementById('productsContainer').innerHTML = `
              <div class="text-center py-5">
                <h5>Error Loading Products</h5>
                <p>Unable to load products at this time. Please try again later.</p>
              </div>
            `;
          }
        }
        
        // Display products in the container
        function displayProducts(products) {
          const container = document.getElementById('productsContainer');
          
          if (products.length === 0) {
            container.innerHTML = `
              <div class="text-center py-5">
                <h5>No Products Found</h5>
                <p>No products are currently available.</p>
              </div>
            `;
            return;
          }
          
          const productsHTML = products.map(product => `
            <div class="col-6 col-md-3 product-card" data-category="${product.category}">
              <img src="${product.image}" alt="${product.name}" onerror="this.src='assets/img/cloth.png'">
              <div class="product-title">${product.name}</div>
              <div class="product-sub">
                Colors: ${Array.isArray(product.colors) ? product.colors.join(', ') : product.color}
                <div class="color-indicators" style="display: flex; align-items: center; gap: 4px; margin-left: 8px;">
                  ${Array.isArray(product.colors) ? 
                    product.colors.map(color => `<div class="color-indicator" style="background-color: ${getColorHex(color)}; width: 16px; height: 16px; border-radius: 50%; display: inline-block; border: 1px solid #ddd;"></div>`).join('') :
                    `<div class="color-indicator" style="background-color: ${getColorHex(product.color)}; width: 20px; height: 20px; border-radius: 50%; display: inline-block; border: 1px solid #ddd;"></div>`
                  }
                </div>
              </div>
            </div>
          `).join('');
          
          container.innerHTML = productsHTML;
        }
        
        // Populate category filter dropdown
        function populateCategoryFilter() {
          const filter = document.getElementById('categoryFilter');
          
          // Clear existing options except "All"
          filter.innerHTML = '<option value="all" selected>All</option>';
          
          // Add category options from API response
          if (window.categoryData && window.categoryData.categories) {
            window.categoryData.categories.forEach(category => {
              const option = document.createElement('option');
              option.value = category.key;
              option.textContent = category.display_name;
              filter.appendChild(option);
            });
          }
        }
        
        // Color name to hex conversion
        function getColorHex(colorName) {
            const colorMap = {
                'white': '#ffffff',
                'black': '#000000',
                'blue': '#0066cc',
                'red': '#cc0000',
                'green': '#00cc00',
                'yellow': '#ffff00',
                'gray': '#808080',
                'grey': '#808080',
                'beige': '#f5f5dc',
                'pink': '#ffc0cb',
                'purple': '#800080',
                'orange': '#ffa500',
                'brown': '#a52a2a',
                'ivory': '#fffff0',
                'navy': '#000080',
                'teal': '#008080',
                'maroon': '#800000',
                'olive': '#808000',
                'lime': '#00ff00',
                'cyan': '#00ffff',
                'magenta': '#ff00ff',
                'silver': '#c0c0c0',
                'gold': '#ffd700',
                'indigo': '#4b0082',
                'violet': '#ee82ee',
                'coral': '#ff7f50',
                'salmon': '#fa8072',
                'tan': '#d2b48c',
                'khaki': '#f0e68c',
                'lavender': '#e6e6fa',
                'plum': '#dda0dd',
                'azure': '#f0ffff',
                'mint': '#f5fffa',
                'cream': '#fff5ee',
                'peach': '#ffdab9',
                'rose': '#ffe4e1',
                'sienna': '#a0522d',
                'chocolate': '#d2691e',
                'peru': '#cd853f',
                'sandybrown': '#f4a460',
                'wheat': '#f5deb3',
                'burlywood': '#deb887',
                'linen': '#faf0e6',
                'oldlace': '#fdf5e6',
                'seashell': '#fff5ee',
                'cornsilk': '#fff8dc',
                'lemonchiffon': '#fffacd',
                'lightyellow': '#ffffe0',
                'lightcyan': '#e0ffff',
                'lightblue': '#add8e6',
                'lightgreen': '#90ee90',
                'lightpink': '#ffb6c1',
                'lightcoral': '#f08080',
                'lightsalmon': '#ffa07a',
                'lightseagreen': '#20b2aa',
                'lightskyblue': '#87cefa',
                'lightsteelblue': '#b0c4de',
                'lightgray': '#d3d3d3',
                'lightgrey': '#d3d3d3'
            };
            
            return colorMap[colorName.toLowerCase()] || '#cccccc'; // Default to light gray if color not found
        }
        
        // Setup filter functionality
        function setupFilter() {
          const categoryFilter = document.getElementById('categoryFilter');
          
          // Function to filter products
          function filterProducts() {
            const selectedCategory = categoryFilter.value;
            const productCards = document.querySelectorAll('.product-card');
            
            productCards.forEach(card => {
              if (selectedCategory === 'all' || card.dataset.category === selectedCategory) {
                card.style.display = 'block';
              } else {
                card.style.display = 'none';
              }
            });
          }
          
          // Add event listener to the filter dropdown
          categoryFilter.addEventListener('change', filterProducts);
          
          // Initialize filter on page load
          filterProducts();
        }
      </script>
  </body>
</html>
